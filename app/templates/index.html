<!DOCTYPE html>
<html>
  <head>
  	<script type="text/javascript" src="static/js/angular.min.js"></script>
  	<script type="text/javascript" src="static/js/postmodule.js"></script>
  	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="static/css/mystyle.css">
    <title>{{ title }} - microblog</title>
  </head>
  <body ng-app='myApp'>
      <div ng-controller="myCtrl" id=main>
		<div id=address>
			<form id="db_address" ng-submit="queryDb()">
				<div>
					<label for="dbaddr_">Db address</label>
    				<input type="text" id="dbaddr_" ng-model="dbAddress" 
    					placeholder="E.g. sqlite:////Users/me/data/mydb.sqlite" class="form-control"/>
    				<button class="btn btn-primary" type="submit">View</button>
    			</div>
		</form>
		</div>
		<div id="tables">
		<ul class="nav nav-tabs">
		<li ng-repeat="(tableName, numItems) in tables"
		ng-class="{active:tableName==selectedTableName}">
			<a href value="{{ '{{' }} tableName  {{ '}}' }}"
				ng-click="setSelectedTableName(tableName)">
			{{ '{{' }} tableName  {{ '}}' }}<br><small>{{ '{{' }} numItems  {{ '}}' }} rows</small>
			</a>
		</li>
		</ul>
		</div>
		<div id="table_content">
			<table class="table table-condensed table-hover"> <!--  table-striped">-->
  				<tr ng-repeat="x in selectedTableDataHeader">
    				<th ng-repeat="v in x track by $index">
    				<a href ng-click="toggleColSort(selectedTableDataHeader[0][$index])">
    				{{ '{{' }} v {{ '}}' }}
    				</a>
    				<span ng-if="$parent.$index==0" ng-show="selectedTableDataHeader[0][$index]==orderColName && orderAscending">
    				&darr;
    				</span>
    				<span ng-if="$parent.$index==0" ng-show="selectedTableDataHeader[0][$index]==orderColName && !orderAscending">
    				&uarr;
    				</span>
    				</th>
			    </tr>
  				<tr ng-repeat="x in selectedTableData">
    				<td ng-repeat="v in x track by $index">
    				<textarea ng-if="(v+'').indexOf('\n') != -1">{{ '{{' }} v {{ '}}' }}</textarea>
    				<!-- <input ng-if="(v+'').indexOf('\n') == -1" type='text' value="{{ '{{' }} v {{ '}}' }}" /> -->
    				<span ng-if="(v+'').indexOf('\n') == -1">{{ '{{' }} v {{ '}}' }}</span>
    				</td>
			   </tr>
			</table>
		</div>
    </div>
  </body>
</html>